import{c as v,r as g,j as u}from"./react-DG-fLc2n.js";import{u as y}from"./react-query-E58jM38U.js";import{u as P,a as j}from"./api-factory-28S0Rw7F.js";import"./lodash-euh3i8aB.js";import"./app-DWkGtBKQ.js";import"../index.js";import"./recharts-Bj1gY5UL.js";import"./react-dom-Ck4m6P7c.js";import"./heroicons-CBbK1C7t.js";const w="/login";function A(l){const e=v.c(8);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={method:"POST"},e[0]=o):o=e[0];const c=P(w,o);let r;e[1]!==c?(r=async h=>c(h),e[1]=c,e[2]=r):r=e[2];const m=r;let t;e[3]!==l?(t={onSuccess:l},e[3]=l,e[4]=t):t=e[4];const p=j(w,t);let s;return e[5]!==p||e[6]!==m?(s={onSuccess:p,mutationFn:m},e[5]=p,e[6]=m,e[7]=s):s=e[7],y(s)}const L=l=>{const e=v.c(13),{children:o,accessLevel:c}=l,[r,m]=g.useState(!1),[t,p]=g.useState("");let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=n=>{p(n.currentTarget.value)},e[0]=s):s=e[0];const h=s,{mutateAsync:x}=A();let d;e[1]!==x||e[2]!==t?(d=async()=>{try{await x({pwd:t}),m(!0)}catch(n){alert("incorrect password")}},e[1]=x,e[2]=t,e[3]=d):d=e[3];const b=d;if(r||c===""){let n;return e[4]!==o?(n=u.jsx(u.Fragment,{children:o}),e[4]=o,e[5]=n):n=e[5],n}let a;e[6]!==t?(a=u.jsx("input",{type:"password",placeholder:"password",value:t,onChange:h,className:"border-2 border-brand-600 p-2"}),e[6]=t,e[7]=a):a=e[7];let i;e[8]!==b?(i=u.jsx("button",{onClick:b,className:"border-2 bg-brand-600 p-2 text-white",children:"submit"}),e[8]=b,e[9]=i):i=e[9];let f;return e[10]!==a||e[11]!==i?(f=u.jsxs("div",{className:"mt-8 flex gap-4",children:[a,i]}),e[10]=a,e[11]=i,e[12]=f):f=e[12],f};export{L as default};
