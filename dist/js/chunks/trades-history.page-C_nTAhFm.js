var re=Object.defineProperty,ie=Object.defineProperties;var ce=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var z=(e,t,s)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,_=(e,t)=>{for(var s in t||(t={}))B.call(t,s)&&z(e,s,t[s]);if(k)for(var s of k(t))O.call(t,s)&&z(e,s,t[s]);return e},C=(e,t)=>ie(e,ce(t));var W=(e,t)=>{var s={};for(var n in e)B.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&k)for(var n of k(e))t.indexOf(n)<0&&O.call(e,n)&&(s[n]=e[n]);return s};import{b as Z,r as w,c as v,j as o}from"./react-DG-fLc2n.js";import{c as x,T as de,L as me,X as fe,Y as ue,a as xe,R as he,C as ge,b as ye}from"./recharts-Bj1gY5UL.js";import{S as T,C as J}from"./index-TNw-9F5i.js";import{u as H,t as A,a as I,T as be}from"./index-C5DeNR8b.js";import{r as Q,a as pe,s as je}from"./app-DWkGtBKQ.js";import{r as E,a as ve,b as Se,u as _e}from"./lodash-euh3i8aB.js";import{d as we}from"./api-factory-28S0Rw7F.js";import{g as Ne,r as Y,a as ee}from"../index.js";import{u as De}from"./react-use-gEYxd92k.js";import{d as Le,e as Ce,f as Ae}from"./heroicons-CBbK1C7t.js";import{u as $e,S as ke}from"./use-strategy-config-BKbJTso8.js";import"./react-dom-Ck4m6P7c.js";import"./react-query-E58jM38U.js";const Te={},Re=w.createContext(void 0);function te(e){return w.useContext(Re)||Ne()}const K=e=>typeof(e==null?void 0:e.then)=="function",M=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},Fe=Z.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(M(e),e)}),P=new WeakMap,U=(e,t)=>{let s=P.get(e);return s||(s=new Promise((n,l)=>{let a=e;const r=i=>m=>{a===i&&n(m)},c=i=>m=>{a===i&&l(m)},d=()=>{try{const i=t();K(i)?(P.set(i,s),a=i,i.then(r(i),c(i)),Y(i,d)):n(i)}catch(i){l(i)}};e.then(r(e),c(e)),Y(e,d)}),P.set(e,s)),s};function R(e,t){const{delay:s,unstable_promiseStatus:n=!Z.use}={},l=te(),[[a,r,c],d]=w.useReducer(m=>{const f=l.get(e);return Object.is(m[0],f)&&m[1]===l&&m[2]===e?m:[f,l,e]},void 0,()=>[l.get(e),l,e]);let i=a;if((r!==l||c!==e)&&(d(),i=l.get(e)),w.useEffect(()=>{const m=l.sub(e,()=>{if(n)try{const f=l.get(e);K(f)&&M(U(f,()=>l.get(e)))}catch(f){}if(typeof s=="number"){setTimeout(d,s);return}d()});return d(),m},[l,e,s,n]),w.useDebugValue(i),K(i)){const m=U(i,()=>l.get(e));return n&&M(m),Fe(m)}return i}function Pe(e,t){const s=te();return w.useCallback((...l)=>{if((Te?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return s.set(e,...l)},[s,e])}function se(e,t){return[R(e),Pe(e)]}const le=e=>{const t=v.c(2);let s;return t[0]!==e?(s=e.reduce(Ee,{ALL:{total:0,w:0,l:0,r:0}}),t[0]=e,t[1]=s):s=t[1],s};function Ee(e,t){if(t.strategy==="DIVIDEND")return e;const s=t.profit+t.swap;return Q(e).includes(t.strategy)?(e[t.strategy].total=e[t.strategy].total+s,e[t.strategy].w=e[t.strategy].w+(s>0?1:0),e[t.strategy].l=e[t.strategy].l+(s<0?1:0),e[t.strategy].r=E(e[t.strategy].w/(e[t.strategy].w+e[t.strategy].l)*100,0)):e[t.strategy]={total:s,w:s>0?1:0,l:s<0?1:0,r:0},e.ALL.total=e.ALL.total+s,e.ALL.w=e.ALL.w+(s>0?1:0),e.ALL.l=e.ALL.l+(s<0?1:0),e.ALL.r=E(e.ALL.w/(e.ALL.w+e.ALL.l)*100,0),e}const{toDate:ne}=we("Australia/Sydney"),X=[{label:"ALL",from:"2000-07-01",to:ne(new Date)},...ve(20,Me()+1).map(e=>({label:`FY${e}`,from:`20${e}-07-01`,to:`20${e+1}-06-29`})).toReversed()],F=ee({from:"2000-07-01",to:ne(new Date)}),Ke=()=>{const e=v.c(4),t=R(F),[s,n]=w.useState(t);let l;e[0]!==t?(l=()=>{n(t)},e[0]=t,e[1]=l):l=e[1];let a;return e[2]!==t?(a=[t],e[2]=t,e[3]=a):a=e[3],De(l,1e3,a),s};function Me(){const e=new Date,t=e.getFullYear();return e.getMonth()>=6?t%100:t%100-1}const He=()=>{const e=v.c(26),[t,s]=se(F),[n,l]=w.useState("ALL");let a;e[0]!==s?(a=D=>{l(void 0),s(L=>C(_({},L),{[D.target.name]:D.target.value}))},e[0]=s,e[1]=a):a=e[1];const r=a;let c;e[2]!==s?(c=D=>{const L=X.find(oe=>oe.label===D.currentTarget.dataset.fy);L&&(s({from:L.from,to:L.to}),l(L.label))},e[2]=s,e[3]=c):c=e[3];const d=c;let i,m;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=x("flex","flex-col-reverse","md:flex-row","gap-2","p-2"),m=x("flex gap-2"),e[4]=i,e[5]=m):(i=e[4],m=e[5]);const f=t.from;let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=x("border-b-2","border-brand-600","p-1"),e[6]=u):u=e[6];let h;e[7]!==r||e[8]!==t.from?(h=o.jsx("input",{type:"date",value:f,name:"from",onChange:r,className:u}),e[7]=r,e[8]=t.from,e[9]=h):h=e[9];const g=t.to;let y;e[10]===Symbol.for("react.memo_cache_sentinel")?(y=x("border-b-2","border-brand-600","p-1"),e[10]=y):y=e[10];let b;e[11]!==r||e[12]!==t.to?(b=o.jsx("input",{type:"date",value:g,name:"to",onChange:r,className:y}),e[11]=r,e[12]=t.to,e[13]=b):b=e[13];let p;e[14]!==h||e[15]!==b?(p=o.jsxs("div",{className:m,children:[h,b]}),e[14]=h,e[15]=b,e[16]=p):p=e[16];let j;e[17]===Symbol.for("react.memo_cache_sentinel")?(j=x("flex gap-2 overflow-auto pb-3 md:pb-0"),e[17]=j):j=e[17];let N;e[18]!==d||e[19]!==n?(N=X.map(D=>o.jsx("div",{"data-fy":D.label,className:x("font-semibold","py-1","px-2","border-2","md:text-md text-sm","border-brand-600",n===D.label&&"bg-brand-200","cursor-pointer","rounded-sm"),onClick:d,children:D.label},D.label)),e[18]=d,e[19]=n,e[20]=N):N=e[20];let S;e[21]!==N?(S=o.jsx("div",{className:j,children:N}),e[21]=N,e[22]=S):S=e[22];let $;return e[23]!==p||e[24]!==S?($=o.jsxs("div",{className:i,children:[p,S]}),e[23]=p,e[24]=S,e[25]=$):$=e[25],$},Ie=w.memo(He),ae={ALL:"Total",MANUAL:"Manual",DIVIDEND:"Dividend"},Ve=je(Q(ae)),ze=x("bg-white","flex","flex-col","gap-2","rounded-xl","border","border-primary-200","p-4","pb-2","shadow-sm"),Be=x("text-lg","font-semibold","text-primary-600"),Oe=x("tracking-light","text-2xl","font-bold","leading-tight"),We=()=>{const e=v.c(12),t=R(F),{data:s,isFetching:n}=H(t.from,t.to);let l;e[0]!==s?(l=s!=null?s:[],e[0]=s,e[1]=l):l=e[1];const a=le(l);let r;e[2]!==n?(r=n&&o.jsx("div",{className:"absolute top-0 left-0 z-10 ml-[-5%] flex h-full w-[110%] items-center justify-center bg-white/30",children:o.jsx(T,{})}),e[2]=n,e[3]=r):r=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=x("flex","flex-nowrap","gap-2","overflow-auto","whitespace-nowrap","py-4"),e[4]=c):c=e[4];let d;e[5]!==a?(d=pe(a).map(Ye),e[5]=a,e[6]=d):d=e[6];let i;e[7]!==d?(i=o.jsx("div",{className:c,children:d}),e[7]=d,e[8]=i):i=e[8];let m;return e[9]!==r||e[10]!==i?(m=o.jsxs("div",{className:"relative mb-6",children:[r,i]}),e[9]=r,e[10]=i,e[11]=m):m=e[11],m};function Ye(e){const[t,s]=e;return o.jsxs("div",{className:x(ze,"p-4!",s.total>0?"bg-green-200/10!":"bg-red-200/10!"),children:[o.jsx("h2",{className:x(Be,"text-sm","text-brand-700!"),children:Ve(t)?ae[t]:t}),o.jsx("span",{className:x(Oe,"text-xl",s.total>0?"text-green-600":"text-red-600"),children:A(s.total)}),o.jsxs("span",{className:x("font-semibold","text-xs","text-right","text-primary-600"),children:["w/l ratio: ",s.r,"%"]})]},t)}const Ue=(e,t)=>function(n){const[l,a]=w.useState(!1),r=w.useCallback(c=>{c.preventDefault(),c.stopPropagation(),a(!1)},[]);if(w.useEffect(()=>{n.activeIndex&&a(!0)},[n.activeIndex]),l&&n.active&&n.payload.length>0){const c=e,d=t;return o.jsxs("div",{className:x("text-white","font-semibold","rounded-2xl","bg-brand-100","shadow-app-shadow"),children:[o.jsxs("div",{className:x("font-semibold","border-b-2","rounded-t-2xl","bg-brand-900","px-4","py-2","relative"),children:[o.jsx("div",{className:x("block","md:hidden","absolute","top-[50%]","translate-[-50%]","right-1"),onClick:r,children:o.jsx(Le,{className:x("size-4","stroke-2","stroke-current")})}),o.jsx(c,_({},n))]}),o.jsx(d,_({},n))]})}return null},Xe=e=>{const t=v.c(6),{header:s,body:n}=e;let l;t[0]!==n||t[1]!==s?(l=Ue(s,n),t[0]=n,t[1]=s,t[2]=l):l=t[2];let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a={pointerEvents:"auto"},t[3]=a):a=t[3];let r;return t[4]!==l?(r=o.jsx(de,{content:l,wrapperStyle:a}),t[4]=l,t[5]=r):r=t[5],r},Ge=ee([]),V=()=>{const e=v.c(5),[t,s]=se(Ge);let n;e[0]!==s?(n=r=>{s(c=>c.includes(r)?c.filter(d=>d!==r):[...c,r])},e[0]=s,e[1]=n):n=e[1];const l=n;let a;return e[2]!==t||e[3]!==l?(a=[t,l],e[2]=t,e[3]=l,e[4]=a):a=e[4],a},qe=e=>{const t=v.c(7),{payload:s}=e,[n,l]=V();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=x("flex","flex-nowrap","overflow-auto","py-3","w-min","max-w-full","pl-6","m-auto","mb-6","items-center","justify-start"),t[0]=a):a=t[0];let r;t[1]!==n||t[2]!==s||t[3]!==l?(r=s==null?void 0:s.map((d,i)=>o.jsx("div",{title:"Hide Serie",className:x("min-w-max","font-black","text-sm","px-2","py-1","rounded-2xl","cursor-pointer",n.length>0&&n.includes(`${d.dataKey}`)&&x("opacity-30"),"hover:bg-primary-300"),style:{color:d.color},onClick:()=>l(`${d.dataKey}`),children:d.value},`item-${i}`)),t[1]=n,t[2]=s,t[3]=l,t[4]=r):r=t[4];let c;return t[5]!==r?(c=o.jsx("div",{className:a,children:r}),t[5]=r,t[6]=c):c=t[6],c},Ze=()=>{const e=v.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.jsx(me,{content:qe,verticalAlign:"top"}),e[0]=t):t=e[0],t},Je=e=>{const t=v.c(4);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=["dataMin","dataMax"],t[0]=s):s=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n={fontSize:12},t[1]=n):n=t[1];let l;return t[2]!==e?(l=o.jsx(fe,_({dataKey:"index",type:"number",domain:s,stroke:"#6b7280",tick:n,tickCount:8,angle:-45,textAnchor:"end",fontWeight:"bold",height:65},e)),t[2]=e,t[3]=l):l=t[3],l},Qe=e=>{const t=v.c(3);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s={fontSize:12},t[0]=s):s=t[0];let n;return t[1]!==e?(n=o.jsx(ue,_({stroke:"#6b7280",tick:s,fontWeight:"bold"},e)),t[1]=e,t[2]=n):n=t[2],n},G=["#990099","#3366CC","#DC3912","#FF9900","#109618","#0099C6","#DD4477","#66AA00","#B82E2E","#316395"],et=(e,t)=>e.includes(t)?{visibility:"hidden",activeDot:!1}:{visibility:"visible",activeDot:{r:6}},tt=e=>{const t=v.c(6),[s]=V(),n=`${e.dataKey}`;let l;t[0]!==s||t[1]!==n?(l=et(s,n),t[0]=s,t[1]=n,t[2]=l):l=t[2];let a;return t[3]!==e||t[4]!==l?(a=o.jsx(ye,_(_({},e),l)),t[3]=e,t[4]=l,t[5]=a):a=t[5],a},st=w.memo(function(t){var p,j;const s=v.c(26);let n;s[0]!==t.containerProps?(n=(p=t.containerProps)!=null?p:{},s[0]=t.containerProps,s[1]=n):n=s[1];let l,a;s[2]!==n?(j=n,{style:a}=j,l=W(j,["style"]),s[2]=n,s[3]=l,s[4]=a):(l=s[3],a=s[4]);let r;s[5]!==a?(r=_({},a),s[5]=a,s[6]=r):r=s[6];const c=t.data,d=t.lineChartProps;let i;s[7]===Symbol.for("react.memo_cache_sentinel")?(i=o.jsx(ge,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s[7]=i):i=s[7];let m;s[8]!==t.xaxisProps?(m=o.jsx(Je,_({},t.xaxisProps)),s[8]=t.xaxisProps,s[9]=m):m=s[9];let f;s[10]!==t.yaxisProps?(f=o.jsx(Qe,_({},t.yaxisProps)),s[10]=t.yaxisProps,s[11]=f):f=s[11];let u;s[12]===Symbol.for("react.memo_cache_sentinel")?(u=o.jsx(Ze,{}),s[12]=u):u=s[12];const h=t.renderTooltip;let g;s[13]!==t.seriesKeys?(g=t.seriesKeys.map(lt),s[13]=t.seriesKeys,s[14]=g):g=s[14];let y;s[15]!==t.data||s[16]!==t.lineChartProps||s[17]!==t.renderTooltip||s[18]!==m||s[19]!==f||s[20]!==g?(y=o.jsxs(xe,C(_({data:c},d),{children:[i,m,f,u,h,g]})),s[15]=t.data,s[16]=t.lineChartProps,s[17]=t.renderTooltip,s[18]=m,s[19]=f,s[20]=g,s[21]=y):y=s[21];let b;return s[22]!==l||s[23]!==r||s[24]!==y?(b=o.jsx(he,C(_({width:"100%",style:r},l),{children:y})),s[22]=l,s[23]=r,s[24]=y,s[25]=b):b=s[25],b});function lt(e,t){return o.jsx(tt,{type:"monotone",dataKey:e,strokeWidth:2,dot:!1,name:e,stroke:G[t%G.length]},e)}const nt=(e,t,s)=>{const n=Se(e,t),l=Object.keys(n),a={};let r=null;for(const c of l){const d=n[c],i=s({date:c,items:d,prev:r});a[c]=i,r=i}return a},at=e=>{const[t]=I(e.close_time,{year:"numeric",month:"numeric",day:"numeric"}),[s,n,l]=t.split("/").map(Number);return new Date(l,s-1,n).getTime()},ot=()=>{const e=v.c(12),t=R(F),{data:s,isFetching:n}=H(t.from,t.to);let l;e[0]!==s?(l=_e((s!=null?s:[]).map(dt)),e[0]=s,e[1]=l):l=e[1];const a=l;let r;e[2]!==a?(r=f=>{const{items:u,prev:h}=f,g={};for(const y of a){const b=u.filter(j=>j.strategy===y).reduce(mt,0),p=typeof(h==null?void 0:h[y])=="number"?h[y]:0;g[y]=b+p}return C(_({},g),{date:I(u[0].close_time)[0]})},e[2]=a,e[3]=r):r=e[3];const c=r;let d;e:{if(!s){let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=[],e[4]=u):u=e[4],d=u;break e}let f;if(e[5]!==s||e[6]!==c){const u=nt(s,at,c);f=Object.keys(u).toSorted(ft).map((g,y)=>_({index:y},u[g])),e[5]=s,e[6]=c,e[7]=f}else f=e[7];d=f}const i=d;let m;return e[8]!==a||e[9]!==n||e[10]!==i?(m={returns:i,allStrategies:a,isFetching:n},e[8]=a,e[9]=n,e[10]=i,e[11]=m):m=e[11],m},rt=e=>{const t=v.c(10),{payload:s}=e,[n]=V();let l;if(t[0]!==n||t[1]!==s){let i;t[3]!==n?(i=m=>!n.includes(m.dataKey),t[3]=n,t[4]=i):i=t[4],l=s.filter(i),t[0]=n,t[1]=s,t[2]=l}else l=t[2];const a=l;let r;t[5]===Symbol.for("react.memo_cache_sentinel")?(r=x("grid","grid-cols-1","md:grid-cols-2","px-4","py-2","gap-1"),t[5]=r):r=t[5];let c;t[6]!==a?(c=a.map(ut),t[6]=a,t[7]=c):c=t[7];let d;return t[8]!==c?(d=o.jsx("div",{className:r,children:c}),t[8]=c,t[9]=d):d=t[9],d},it=e=>{const t=v.c(2),{payload:s}=e;let n;return t[0]!==s[0].payload.date?(n=o.jsx(o.Fragment,{children:s[0].payload.date}),t[0]=s[0].payload.date,t[1]=n):n=t[1],n},ct=()=>{const e=v.c(15),{allStrategies:t,returns:s,isFetching:n}=ot();let l;e[0]!==n?(l=n&&o.jsx("div",{className:x("absolute","top-0","left-0","z-10","ml-[-5%]","flex","h-full","w-[110%]","items-center","justify-center","bg-white/30"),children:o.jsx(T,{})}),e[0]=n,e[1]=l):l=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=x("p-3"),e[2]=a):a=e[2];let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r={height:500},e[3]=r):r=e[3];let c;e[4]!==s?(c={tickFormatter:u=>`${s[u].date}`},e[4]=s,e[5]=c):c=e[5];let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d={tickFormatter:xt,width:80},e[6]=d):d=e[6];let i;e[7]===Symbol.for("react.memo_cache_sentinel")?(i=o.jsx(Xe,{header:it,body:rt}),e[7]=i):i=e[7];let m;e[8]!==t||e[9]!==s||e[10]!==c?(m=o.jsx("div",{className:a,children:o.jsx(st,{data:s,containerProps:r,xaxisProps:c,yaxisProps:d,seriesKeys:t,renderTooltip:i})}),e[8]=t,e[9]=s,e[10]=c,e[11]=m):m=e[11];let f;return e[12]!==l||e[13]!==m?(f=o.jsxs(J,{children:[l,m]}),e[12]=l,e[13]=m,e[14]=f):f=e[14],f};function dt(e){return e.strategy}function mt(e,t){return E(e+t.profit+t.swap)}function ft(e,t){return Number.parseInt(e)-Number.parseInt(t)}function ut(e){return o.jsxs("div",{className:x(e.value>0?"text-green-600":"text-red-600","flex","items-center","gap-1"),children:[o.jsx("div",{className:x("w-2","h-2"),style:{background:e.color}}),e.dataKey,": ",A(e.value)]},e.dataKey)}function xt(e){return`${A(e)}`}const q=e=>({manual:e.strategy==="Manual"?"":"(m)",sl:"(sl)",tp:"(tp)",broker:"(b)",strategy:""})[e.close_reason],ht=e=>{const t=v.c(26),{position:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=x("flex","flex-col-reverse","md:flex-row","md:justify-between","md:pr-4","text-sm","md:items-center"),t[0]=n):n=t[0];let l;t[1]!==s.type?(l=s.type==="long"?o.jsx(Ce,{className:"size-4 text-green-500"}):o.jsx(Ae,{className:"size-4 text-red-500"}),t[1]=s.type,t[2]=l):l=t[2];let a;t[3]!==s.strategy?(a=o.jsx("span",{className:"text-xs font-semibold md:text-sm",children:s.strategy}),t[3]=s.strategy,t[4]=a):a=t[4];let r;t[5]!==s?(r=q(s),t[5]=s,t[6]=r):r=t[6];let c;t[7]!==r?(c=o.jsx("span",{className:"hidden text-xs font-semibold md:inline",children:r}),t[7]=r,t[8]=c):c=t[8];let d;t[9]!==l||t[10]!==a||t[11]!==c?(d=o.jsxs("div",{className:"flex items-center gap-1",children:[l,a,c]}),t[9]=l,t[10]=a,t[11]=c,t[12]=d):d=t[12];let i;t[13]===Symbol.for("react.memo_cache_sentinel")?(i=x("text-xs","pl-2 md:pl-0"),t[13]=i):i=t[13];let m;t[14]!==s.symbol?(m=o.jsx("span",{className:i,children:s.symbol}),t[14]=s.symbol,t[15]=m):m=t[15];let f;t[16]!==s?(f=q(s),t[16]=s,t[17]=f):f=t[17];let u;t[18]!==f?(u=o.jsx("span",{className:"text-xs font-semibold md:hidden",children:f}),t[18]=f,t[19]=u):u=t[19];let h;t[20]!==u||t[21]!==m?(h=o.jsxs("div",{children:[m,u]}),t[20]=u,t[21]=m,t[22]=h):h=t[22];let g;return t[23]!==h||t[24]!==d?(g=o.jsxs("div",{className:n,children:[d,h]}),t[23]=h,t[24]=d,t[25]=g):g=t[25],g},gt=[{td:e=>o.jsx(ht,{position:e}),th:o.jsx("div",{className:"text-left",children:"Strategy"})},{td:e=>o.jsx("div",{className:"text-right text-sm",children:e.volume}),th:o.jsx("div",{className:"text-right",children:"Vol."})},{td:e=>{const[t,s]=I(e.close_time);return o.jsxs("div",{className:"text-left text-sm",children:[t," ",s]})},th:o.jsx("div",{className:"text-left",children:"Date"})},{td:e=>o.jsx("div",{className:"text-right",children:A(e.profit+e.swap)}),th:o.jsx("div",{className:"text-right",children:"Profit"}),tdProps:{className:e=>x(e.profit+e.swap>0?"text-green-600":"text-red-700","font-semibold","text-sm")}}],yt=e=>{var N;const t=v.c(19),{strategies:s,setSelectedStrategy:n,selectedStrategy:l,returns:a}=e;let r,c,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(r={label:"All",value:"ALL"},c={label:"Manual",value:"MANUAL"},d={label:"Dividend",value:"DIVIDEND"},t[0]=r,t[1]=c,t[2]=d):(r=t[0],c=t[1],d=t[2]);let i;t[3]!==s?(i=[r,c,d,...(N=s==null?void 0:s.map(pt))!=null?N:[]],t[3]=s,t[4]=i):i=t[4];const m=i;let f;t[5]!==n?(f=S=>{n(S.currentTarget.value)},t[5]=n,t[6]=f):f=t[6];const u=f;let h,g,y;t[7]===Symbol.for("react.memo_cache_sentinel")?(h=x("grid","grid-cols-[min-content_1fr_max-content]","gap-4","items-center"),g=o.jsx("span",{className:"row-1 text-lg font-black",children:"History"}),y=x("col-span-2","row-2","md:col-2","md:row-1"),t[7]=h,t[8]=g,t[9]=y):(h=t[7],g=t[8],y=t[9]);let b;t[10]!==u||t[11]!==m||t[12]!==l?(b=o.jsx("div",{className:y,children:o.jsx(ke,{name:"strategy-select",onChange:u,value:l,label:"",options:m,className:"md:text-md max-w-[200px] text-sm"})}),t[10]=u,t[11]=m,t[12]=l,t[13]=b):b=t[13];let p;t[14]!==a?(p=a&&o.jsxs("div",{className:x("flex","flex-row-reverse md:flex-col","w-max","items-center","gap-3 md:gap-1","font-semibold","py-1","px-1 md:px-4",a.total===0&&"text-shadow-primary-950",a.total>0&&"bg-green-300/10 text-green-300",a.total<0&&"bg-red-300/10 text-red-300"),children:[o.jsx("span",{className:"text-xs",children:a.r===0?"-":`w/l ratio: ${a.r}%`}),o.jsx("span",{className:"md:text-md text-sm",children:a.total===0?"-":A(a.total)})]}),t[14]=a,t[15]=p):p=t[15];let j;return t[16]!==p||t[17]!==b?(j=o.jsxs("div",{className:h,children:[g,b,p]}),t[16]=p,t[17]=b,t[18]=j):j=t[18],j},bt=()=>{var N;const e=v.c(23),t=Ke(),{data:s,isPending:n,isFetching:l}=H(t.from,t.to),{data:a}=$e();let r;e[0]!==s?(r=s!=null?s:[],e[0]=s,e[1]=r):r=e[1];const c=le(r),[d,i]=w.useState("ALL");let m;e[2]!==s||e[3]!==d?(m=(N=s==null?void 0:s.filter(S=>d==="ALL"||S.strategy===d).toReversed())!=null?N:[],e[2]=s,e[3]=d,e[4]=m):m=e[4];const f=m;if(n){let S;return e[5]===Symbol.for("react.memo_cache_sentinel")?(S=o.jsx(T,{className:"mx-auto my-4"}),e[5]=S):S=e[5],S}let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=o.jsx(Ie,{}),e[6]=u):u=e[6];const h=c[d];let g;e[7]!==d||e[8]!==a||e[9]!==h?(g=o.jsx(yt,{selectedStrategy:d,setSelectedStrategy:i,strategies:a,returns:h}),e[7]=d,e[8]=a,e[9]=h,e[10]=g):g=e[10];let y;e[11]!==l?(y=l&&o.jsx("div",{className:"absolute top-0 left-0 z-10 flex h-full w-full items-center justify-center bg-white/50",children:o.jsx(T,{})}),e[11]=l,e[12]=y):y=e[12];let b;e[13]!==f?(b=o.jsx(be,{data:f,config:gt,wrapperClassName:"max-h-[500px] overflow-auto",paginate:!0}),e[13]=f,e[14]=b):b=e[14];let p;e[15]!==l||e[16]!==f?(p=!l&&f.length===0&&o.jsx("div",{className:"p-2 text-center text-lg font-semibold text-red-600",children:"No data"}),e[15]=l,e[16]=f,e[17]=p):p=e[17];let j;return e[18]!==g||e[19]!==y||e[20]!==b||e[21]!==p?(j=o.jsxs("section",{children:[u,o.jsxs(J,{header:g,children:[y,b,p]})]}),e[18]=g,e[19]=y,e[20]=b,e[21]=p,e[22]=j):j=e[22],j};function pt(e){return{label:e.strategy_key.toUpperCase(),value:e.strategy_key}}const Ft=()=>{const e=v.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.jsxs("div",{children:[o.jsx(We,{}),o.jsx(bt,{}),o.jsx(ct,{})]}),e[0]=t):t=e[0],t};export{Ft as default};
